‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß! ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üéâ

‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏°‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÅ‡∏ö‡∏ö‡∏ô‡∏±‡πâ‡∏ô ‡∏ú‡∏°‡∏Ç‡∏≠‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á "‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô" (Backend Architecture) ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏ô‡∏¥‡∏¢‡∏°‡∏°‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ Controller-Service Pattern (‡∏´‡∏£‡∏∑‡∏≠ Layered Architecture) ‡∏Ñ‡∏£‡∏±‡∏ö

‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏≠ "‡πÅ‡∏ö‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏±‡∏ô‡∏ó‡∏≥ ‡πÑ‡∏°‡πà‡∏Å‡πâ‡∏≤‡∏ß‡∏Å‡πà‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ô" ‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£" ‡∏Ñ‡∏£‡∏±‡∏ö

1. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å (The Big Picture)
‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ô‡∏≤‡∏¢‡πÅ‡∏ö‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏ä‡∏±‡πâ‡∏ô (Layers) ‡∏´‡∏•‡∏±‡∏Å‡πÜ ‡∏Ñ‡∏£‡∏±‡∏ö:

Controller (‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô/‡πÄ‡∏î‡πá‡∏Å‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå): submission.controller.js

Service (‡πÄ‡∏ä‡∏ü/‡∏Ñ‡∏ô‡∏õ‡∏£‡∏∏‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£): submission.service.js

Database/Model (‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö): db.js / SQL Server

2. ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡∏±‡πâ‡∏ô
üë∑‚Äç‚ôÇÔ∏è ‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 1: Controller (submission.controller.js)
‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡πÄ‡∏õ‡πá‡∏ô‡∏î‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö React (Frontend)

‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:

‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á (Request): ‡∏£‡∏±‡∏ö req.body, req.params ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô

‡∏ï‡∏£‡∏ß‡∏à‡∏ö‡∏±‡∏ï‡∏£ (Validation): ‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏°‡∏≤‡∏Ñ‡∏£‡∏ö‡πÑ‡∏´‡∏° (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏ä‡πá‡∏Ñ if (!formType) ...)

‡∏™‡∏±‡πà‡∏á‡∏á‡∏≤‡∏ô (Delegate): ‡πÇ‡∏¢‡∏ô‡∏á‡∏≤‡∏ô‡πÑ‡∏õ‡πÉ‡∏´‡πâ Service ‡∏ó‡∏≥‡∏ï‡πà‡∏≠ (‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥‡πÄ‡∏≠‡∏á!)

‡∏™‡πà‡∏á‡∏ú‡∏• (Response): ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏à‡∏≤‡∏Å Service ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ö‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏ß‡πà‡∏≤ "‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß" (200 OK) ‡∏´‡∏£‡∏∑‡∏≠ "‡∏û‡∏±‡∏á‡∏ô‡∏∞" (500 Error)

‡∏Å‡∏è‡πÄ‡∏´‡∏•‡πá‡∏Å: Controller ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô SQL ‡∏´‡∏£‡∏∑‡∏≠ Logic ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Ñ‡πà "‡∏£‡∏±‡∏ö-‡∏™‡πà‡∏á"

üë®‚Äçüç≥ ‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 2: Service (submission.service.js)
‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:

‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥ (Business Logic): ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ, ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç, ‡∏ß‡∏ô‡∏•‡∏π‡∏õ

‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ pool.request().query(...)

‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Error: ‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î ‡∏à‡∏∞ Throw Error ‡∏ö‡∏≠‡∏Å Controller

‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ: ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Logic ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡∏≠‡∏á‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏ñ‡πâ‡∏≤‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Database ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏™‡∏π‡∏ï‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ‡∏Å‡πá‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏à‡∏ö

üì¶ ‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 3: Database (db.js / SQL Server)
‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏´‡∏•‡∏±‡∏á‡∏™‡∏∏‡∏î

‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà: ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ö‡πÜ ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SQL

3. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏Ñ‡∏™‡∏ó‡∏µ‡πà‡∏ô‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏á‡πÅ‡∏Å‡πâ
‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î Concept)
Controller: "‡πÄ‡∏Æ‡πâ‡∏¢ Frontend ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ST Plan ‡∏´‡∏ô‡πà‡∏≠‡∏¢... ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏≤ (Controller) ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏´‡∏¢‡∏¥‡∏ö‡∏Å‡∏∏‡∏ç‡πÅ‡∏à‡πÑ‡∏Ç‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á (Database) ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏Å‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏≠‡∏á‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡∏Ç‡∏µ‡πâ‡πÄ‡∏Å‡∏µ‡∏¢‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏ä‡∏ü"

‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢: Controller ‡∏£‡∏π‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ 10 ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô SQL 10 ‡∏£‡∏≠‡∏ö‡πÉ‡∏ô Controller ‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏∞‡∏£‡∏Å‡∏°‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏¢‡∏≤‡∏Å

‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà (‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)
Controller: "‡πÄ‡∏Æ‡πâ‡∏¢ Frontend ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ST Plan... ‡πÇ‡∏≠‡πÄ‡∏Ñ ‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏ß‡πâ -> ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Service: '‡∏Ñ‡∏∏‡∏ì Service ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ù‡∏≤‡∏Å‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï ST Plan ‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏ô‡∏∞' -> ‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏ú‡∏• -> ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö Frontend"

‡∏Ç‡πâ‡∏≠‡∏î‡∏µ: Controller ‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ï‡∏≤ (Clean), ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç SQL ‡πÑ‡∏õ‡∏£‡∏ß‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà Service ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤

‡∏™‡∏£‡∏∏‡∏õ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡πÄ‡∏ä‡πà‡∏ô ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô createSubmission)
React: ‡∏™‡πà‡∏á JSON ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏°‡∏≤‡∏ó‡∏µ‡πà /api/submission

Controller: ‡∏£‡∏±‡∏ö JSON -> ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ formType ‡∏Ñ‡∏£‡∏ö‡πÑ‡∏´‡∏° -> ‡∏™‡∏±‡πà‡∏á await submissionService.createSubmission(...)

Service: ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -> ‡πÅ‡∏õ‡∏•‡∏á‡∏£‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á -> ‡∏™‡∏±‡πà‡∏á SQL INSERT INTO ... -> ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ submissionId ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ

Controller: ‡πÑ‡∏î‡πâ submissionId -> ‡∏™‡πà‡∏á response { message: "Success", id: 123 } ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏≤ React

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡πÑ‡∏°‡πÇ‡∏Ñ‡πâ‡∏î updateStPlan ‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å‡∏ñ‡∏∂‡∏á‡∏î‡∏π‡πÅ‡∏õ‡∏•‡∏Å‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÜ ‡πÄ‡∏Ç‡∏≤‡πÇ‡∏¢‡∏ô‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ Service ‡∏´‡∏°‡∏î ‡πÅ‡∏ï‡πà‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡πâ‡∏ô‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ó‡∏≥‡πÄ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏°!